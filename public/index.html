<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Component Life EM</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<style>
  body { font-family: Arial, sans-serif; padding: 20px; background: #f5f5f5; }
  .tab-menu { margin-bottom: 20px; }
  .tab-menu button { margin-right: 10px; }
  table { width: 100%; border-collapse: collapse; font-size: 12px; }
  th, td { border: 1px solid #ccc; padding: 5px; text-align: center; }
  th { background-color: #007BFF; color: white; cursor: pointer; }
  td.number { text-align: right; }
  .life-red { background-color: red; color: white; }
  .life-orange { background-color: orange; color: white; }
  .life-green { background-color: green; color: white; }
  .life-yellow { background-color: yellow; color: black; }
  .lifepercent-red { background-color: red; color: white; }
  .lifepercent-orange { background-color: orange; color: white; }
  .lifepercent-green { background-color: green; color: white; }
  .lifepercent-yellow { background-color: yellow; color: black; }
  .modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.5); }
  .modal-content { background-color: white; margin: 10% auto; padding: 20px; width: 400px; border-radius: 10px; }
  .close { float: right; cursor: pointer; font-weight: bold; }
  .progress { height: 20px; margin-top: 10px; }
  .hidden { display: none; }
</style>
</head>
<body>

<h2>Component Life EM</h2>

<div class="tab-menu">
  <button id="menu1-btn" class="btn btn-primary">Monitoring Component</button>
  <button id="menu2-btn" class="btn btn-secondary">Current SMU (Update Multi)</button>
</div>

<!-- Menu 1 -->
<div id="menu1" class="menu">
  <div class="mb-3">
    <input type="text" id="filter-equipment" placeholder="Filter Equipment" class="form-control" style="width:200px; display:inline-block;">
    <input type="text" id="filter-component" placeholder="Filter Component" class="form-control" style="width:200px; display:inline-block;">
    <button id="filter-btn" class="btn btn-info">Filter</button>
    <button id="add-btn" class="btn btn-success">Tambah Data</button>
  </div>

  <table id="component-table">
    <thead>
      <tr>
        <th>Equipment</th>
        <th>Model</th>
        <th>Component</th>
        <th>Freq</th>
        <th>Cost</th>
        <th>Change Out</th>
        <th>Current SMU</th>
        <th>Next Change</th>
        <th>Life</th>
        <th>Life %</th>
        <th>Rating</th>
        <th>Remarks</th>
        <th>Picture</th>
        <th>Action</th>
      </tr>
    </thead>
    <tbody id="component-body">
      <!-- Data Firestore akan muncul disini -->
    </tbody>
  </table>
</div>

<!-- Menu 2 -->
<div id="menu2" class="menu hidden">
  <h5>Update Current SMU (Multi)</h5>
  <textarea id="smu-input" rows="6" class="form-control" placeholder="Masukkan Equipment & SMU, contoh: CO4402 1234"></textarea>
  <button id="update-smu-btn" class="btn btn-success mt-2">Update SMU</button>
  <div class="progress mt-2 hidden" id="update-progress">
    <div class="progress-bar" role="progressbar" style="width:0%">0%</div>
  </div>
</div>

<!-- Modal Tambah Data -->
<div id="add-modal" class="modal">
  <div class="modal-content">
    <span class="close" id="add-close">&times;</span>
    <h5>Tambah Data</h5>
    <input type="text" id="modal-equipment" placeholder="Equipment" class="form-control mb-1">
    <input type="text" id="modal-model" placeholder="Model" class="form-control mb-1">
    <input type="text" id="modal-component" placeholder="Component" class="form-control mb-1">
    <input type="number" id="modal-freq" placeholder="Freq" class="form-control mb-1">
    <input type="number" id="modal-cost" placeholder="Cost" class="form-control mb-1">
    <input type="number" id="modal-changeOut" placeholder="Change Out" class="form-control mb-1">
    <input type="text" id="modal-rating" placeholder="Rating" class="form-control mb-1">
    <input type="text" id="modal-remarks" placeholder="Remarks" class="form-control mb-1">
    <input type="file" id="modal-picture" class="form-control mb-2">
    <button id="modal-save" class="btn btn-success">Save</button>
    <button id="modal-cancel" class="btn btn-danger">Cancel</button>
  </div>
</div>

<script src="https://www.gstatic.com/firebasejs/10.10.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.10.0/firebase-firestore.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.10.0/firebase-storage.js"></script>
<script src="script.js"></script>

</body>
</html>
